<html>
<head>
  <title>Factorio!</title>
  <style type="text/css">
    body {
      background: #333;
      color: #fff;
    }
    a {
      color: #fff;
    }
    .loadFinished ol {
      display: none;
    }
    .loadFinished ol ol,
    .loadFinished ol:target {
      display: block;
    }
    li {
      float: left;
      clear: both;
    }
    .consumption {
      vertical-align: middle;
      display: inline-block;
      width: 80px;
      border-right: 1px dashed #666;
      margin-right: 10px;
    }
    .consumption::before {
      vertical-align: middle;
      content: "";
      display: inline-block;
      background-image: url(recipe.png);
      width: 24px;
      height: 24px;
      background-size: 648px 624px;
    }
    .consumption.iron::before {
      background-position: -456px 0px;
    }
    .consumption.copper::before {
      background-position: -552px -24px;
    }
    .consumption.steel::before {
      background-position: -216px -96px;
    }
    .consumption.plastic::before {
      background-position: -360px -96px;
    }
    .consumption.brick::before {
      background-position: -216px -48px;
    }
    .build {
      white-space: nowrap;
      font-size: 0;
      overflow: hidden;
      max-height: 90vh;
      max-width: 90vw;
      cursor: grab;
      border: 2px solid #ccc;
      position: relative;
    }
    .loadFinished .group {
      transform-origin: center;
      position: absolute;
      left: 0;
      top: 0;
    }
    .grabbing {
      cursor: grabbing;
    }
    .build img {
      display: inline-block;
    }
  </style>
</head>
<body>
  <a href="#nauvis">Nauvis</a> | <a href="#vulcanus">Vulcanus</a> | <a href="#gleba">Gleba</a> | <a href="#fulgora">Fulgora</a> | <a href="#space">Space</a>
  <ol id="space">
    <li class="build">
      <div class="group">
        <img src="space-1.png" />
      </div>
    </li>
    <li class="build">
      <div class="group">
        <img src="space-2.png" />
      </div>
    </li>
    <li class="build">
      <div class="group">
        <img src="space-3.png" />
      </div>
    </li>
  </ol>
  <ol id="fulgora">
    <li class="build">
      <div class="group">
        <img src="fulgora-1.png" />
      </div>
    </li>
    <li>???</li>
    <li>profit!</li>
  </ol>
  <ol id="gleba">
    <li class="build">
      <div class="group">
        <img src="gleba-1.png" />
      </div>
    </li>
    <li class="build">
      <div class="group">
        <img src="gleba-2.png" />
      </div>
    </li>
    <li class="build">
      <div class="group">
        <img src="gleba-3.png" />
      </div>
    </li>
    <li>mine copper + iron stromatolite</li>
    <li>mine jellynut + yumako</li>
    <li>craft heating tower -> setup power</li>
    <li>stone mining + landfill production</li>
    <li>~48 yumako trees, ~28 jellynut trees</li>
  </ol>
  <ol id="vulcanus">
    <li class="build">
      <div class="group">
        <img src="vulcanus-1.png" />
      </div>
    </li>
    <li class="build">
      <div class="group">
        <img src="vulcanus-2.png" />
      </div>
    </li>
    <li>Sulfur pumps -> steam -> turbines</li>
    <li>coal and calcite mining outposts (into chests)</li>
    <li>handfed foundry production close to sulfuric acid</li>
    <li>
      with first foundry:
      <ol>
        <li>lava -> molten iron into storage tank, stone into furnace for bricks</li>
        <li>flip foundry -> create pipes as needed</li>
        <li>create steel/iron sticks</li>
        <li>connect to water -> create concrete -> create refined concrete</li>
      </ol>
    </li>
  </ol>
  <ol id="nauvis">
    <li class="build">
      <div class="group">
        <img src="nauvis-1.png" />
        <img src="nauvis-2.png" />
        <img src="nauvis-3.png" />
        <img src="nauvis-4.png" />
        <img src="nauvis-5.png" />
        <img src="nauvis-6.png" />
      </div>
    </li>
    <li>
      <span class="consumption iron"> 0/s</span>
      <span class="consumption copper"> 0/s</span>
      <span class="consumption steel"> 0/s</span>
      <span class="consumption plastic"> 0/s</span>
      <span class="consumption brick"> 0/s</span>
      temp science
    </li>
    <li>
      <span class="consumption iron"> 0/s</span>
      <span class="consumption copper"> 0/s</span>
      <span class="consumption steel"> 0/s</span>
      <span class="consumption plastic"> 0/s</span>
      <span class="consumption brick"> 0/s</span>
      2 belts
    </li>
    <li>
      <span class="consumption iron"> 0/s</span>
      <span class="consumption copper"> 0/s</span>
      <span class="consumption steel"> 0/s</span>
      <span class="consumption plastic"> 0/s</span>
      <span class="consumption brick"> 0/s</span>
      4 electronic circuits (slowly build up to 40)
    </li>
    <li>
      <span class="consumption iron"> 0/s</span>
      <span class="consumption copper"> 0/s</span>
      <span class="consumption steel"> 0/s</span>
      <span class="consumption plastic"> 0/s</span>
      <span class="consumption brick"> 0/s</span>
      2 inserters
    </li>
    <li>
      <span class="consumption iron"> 0/s</span>
      <span class="consumption copper"> 0/s</span>
      <span class="consumption steel"> 0/s</span>
      <span class="consumption plastic"> 0/s</span>
      <span class="consumption brick"> 0/s</span>
      1 electric miners, 1 assembly machine
    </li>
    <li>
      <span class="consumption iron"> 0/s</span>
      <span class="consumption copper"> 0/s</span>
      <span class="consumption steel"> 0/s</span>
      <span class="consumption plastic"> 0/s</span>
      <span class="consumption brick"> 0/s</span>
      1 fast inserter, 1 long handed inserter, 1 underground belt, 1 splitter, 1 lab
    </li>
    <li>
      <span class="consumption iron"> 2/s</span>
      <span class="consumption copper"> 1/s</span>
      <span class="consumption steel"> 0/s</span>
      <span class="consumption plastic"> 0/s</span>
      <span class="consumption brick"> 0/s</span>
      10 automation science + (slowly build up to) 60 labs
    </li>
    <li>
      <span class="consumption iron"> 7.5/s</span>
      <span class="consumption copper"> 2.5/s</span>
      <span class="consumption steel"> 0/s</span>
      <span class="consumption plastic"> 0/s</span>
      <span class="consumption brick"> 0/s</span>
      12 logistics science
    </li>
    <li>
      <span class="consumption iron"> 7.5/s</span>
      <span class="consumption copper"> 2.5/s</span>
      <span class="consumption steel"> 0/s</span>
      <span class="consumption plastic"> 0/s</span>
      <span class="consumption brick"> 0/s</span>
      2 pipes for engines (to chest, later on belt)
    </li>
    <li>
      <span class="consumption iron"> 7.5/s</span>
      <span class="consumption copper"> 2.5/s</span>
      <span class="consumption steel"> 0/s</span>
      <span class="consumption plastic"> 0/s</span>
      <span class="consumption brick"> 0/s</span>
      1 fast underground, 1 fast splitter, 1 fast belt, 1 steel furnace, 1 assembly machine 2, 1 ammo, 3 piercing ammo, 1 walls, 6 grenades
    </li>
    <li>
      <span class="consumption iron"> 7.5/s</span>
      <span class="consumption copper"> 2.5/s</span>
      <span class="consumption steel"> 0/s</span>
      <span class="consumption plastic"> 0/s</span>
      <span class="consumption brick"> 0/s</span>
      20 engines
    </li>
    <li>
      <span class="consumption iron"> 7.5/s</span>
      <span class="consumption copper"> 2.5/s</span>
      <span class="consumption steel"> 0/s</span>
      <span class="consumption plastic"> 0/s</span>
      <span class="consumption brick"> 0/s</span>
      oil pumps + from now on feel free to make outposts
    </li>
    <li>
      <span class="consumption iron"> 7.5/s</span>
      <span class="consumption copper"> 2.5/s</span>
      <span class="consumption steel"> 0/s</span>
      <span class="consumption plastic"> 0/s</span>
      <span class="consumption brick"> 0/s</span>
      10 basic refinery (slowly build up to ~30)
    </li>
    <li>
      <span class="consumption iron"> 7.5/s</span>
      <span class="consumption copper"> 2.5/s</span>
      <span class="consumption steel"> 0/s</span>
      <span class="consumption plastic"> 0/s</span>
      <span class="consumption brick"> 0/s</span>
      3 sulfur, 1 sulfiric acid
    </li>
    <li>
      <span class="consumption iron"> 7.5/s</span>
      <span class="consumption copper"> 2.5/s</span>
      <span class="consumption steel"> 0/s</span>
      <span class="consumption plastic"> 0/s</span>
      <span class="consumption brick"> 0/s</span>
      2 plastic, 2 copper cable, 12 advanced circuits (slowly build up to 12, 10, 60)
    </li>
    <li>
      <span class="consumption iron"> 14.5/s</span>
      <span class="consumption copper"> 10/s</span>
      <span class="consumption steel"> 1/s</span>
      <span class="consumption plastic"> 3/s</span>
      <span class="consumption brick"> 0/s</span>
      16 chemical science
    </li>
    <li>
      <span class="consumption iron"> 19/s</span>
      <span class="consumption copper"> 12.5/s</span>
      <span class="consumption steel"> 1.5/s</span>
      <span class="consumption plastic"> 3/s</span>
      <span class="consumption brick"> 5/s</span>
      7 military science
    </li>
    <li>
      <span class="consumption iron"> 19/s</span>
      <span class="consumption copper"> 12.5/s</span>
      <span class="consumption steel"> 1.5/s</span>
      <span class="consumption plastic"> 3/s</span>
      <span class="consumption brick"> 5/s</span>
      3 batteries, 1 lubricant, 8 electric engines
    </li>
    <li>
      <span class="consumption iron"> 19/s</span>
      <span class="consumption copper"> 12.5/s</span>
      <span class="consumption steel"> 1.5/s</span>
      <span class="consumption plastic"> 3/s</span>
      <span class="consumption brick"> 5/s</span>
      12 flying robot frames, 1 roboport, 1 construction robots, 1 logistics robots
    </li>
    <li>
      <span class="consumption iron"> 19/s</span>
      <span class="consumption copper"> 12.5/s</span>
      <span class="consumption steel"> 1.5/s</span>
      <span class="consumption plastic"> 3/s</span>
      <span class="consumption brick"> 5/s</span>
      2 sticks, 4 concrete, 2 refined concrete
    </li>
    <li>
      <span class="consumption iron"> 19/s</span>
      <span class="consumption copper"> 12.5/s</span>
      <span class="consumption steel"> 1.5/s</span>
      <span class="consumption plastic"> 3/s</span>
      <span class="consumption brick"> 5/s</span>
      1 explosives, 2 land mines
    </li>
    <li>
      <span class="consumption iron"> 19/s</span>
      <span class="consumption copper"> 12.5/s</span>
      <span class="consumption steel"> 1.5/s</span>
      <span class="consumption plastic"> 3/s</span>
      <span class="consumption brick"> 5/s</span>
      8 (slowly build up to 30) low density
    </li>
    <li>
      <span class="consumption iron"> 19/s</span>
      <span class="consumption copper"> 12.5/s</span>
      <span class="consumption steel"> 1.5/s</span>
      <span class="consumption plastic"> 3/s</span>
      <span class="consumption brick"> 5/s</span>
      8 (slowly build up to 20) rocket fuel
    </li>
    <li>
      <span class="consumption iron"> 19/s</span>
      <span class="consumption copper"> 12.5/s</span>
      <span class="consumption steel"> 1.5/s</span>
      <span class="consumption plastic"> 3/s</span>
      <span class="consumption brick"> 5/s</span>
      5 (slowly build up to 20) processing units
    </li>
    <li>
      <span class="consumption iron"> 19/s</span>
      <span class="consumption copper"> 12.5/s</span>
      <span class="consumption steel"> 1.5/s</span>
      <span class="consumption plastic"> 3/s</span>
      <span class="consumption brick"> 5/s</span>
      2 copper cable, 4 space platform
    </li>
    <li>
      <span class="consumption iron"> 35/s</span>
      <span class="consumption copper"> 52.5/s</span>
      <span class="consumption steel"> 2.9/s</span>
      <span class="consumption plastic"> 9/s</span>
      <span class="consumption brick"> 5/s</span>
      1 (slowly build up to 6, consumption assumes 2 silos) rocket silo (with productivity modules)
    </li>
    <li>
      <span class="consumption iron"> 35/s</span>
      <span class="consumption copper"> 52.5/s</span>
      <span class="consumption steel"> 2.9/s</span>
      <span class="consumption plastic"> 9/s</span>
      <span class="consumption brick"> 5/s</span>
      space science platform, landing pad
    </li>
    <li>
      <span class="consumption iron"> 35/s</span>
      <span class="consumption copper"> 52.5/s</span>
      <span class="consumption steel"> 2.9/s</span>
      <span class="consumption plastic"> 9/s</span>
      <span class="consumption brick"> 5/s</span>
      inner system platform
    </li>
    <li>
      <span class="consumption iron"> 35/s</span>
      <span class="consumption copper"> 52.5/s</span>
      <span class="consumption steel"> 2.9/s</span>
      <span class="consumption plastic"> 9/s</span>
      <span class="consumption brick"> 5/s</span>
      bot mall
    </li>
    <li>
      <span class="consumption iron"> 55/s</span>
      <span class="consumption copper"> 103/s</span>
      <span class="consumption steel"> 5.5/s</span>
      <span class="consumption plastic"> 17/s</span>
      <span class="consumption brick"> 5/s</span>
      10 utility science pack
    </li>
    <li>
      <span class="consumption iron"> 55/s</span>
      <span class="consumption copper"> 103/s</span>
      <span class="consumption steel"> 5.5/s</span>
      <span class="consumption plastic"> 17/s</span>
      <span class="consumption brick"> 5/s</span>
      3 electric furnace, 4 rails, 7 productivity modules
    </li>
    <li>
      <span class="consumption iron"> 63/s</span>
      <span class="consumption copper"> 122/s</span>
      <span class="consumption steel"> 13.9/s</span>
      <span class="consumption plastic"> 24/s</span>
      <span class="consumption brick"> 8.4/s</span>
      10 production science
    </li>
  </ol>

  <script type="text/javascript">
    window.addEventListener('load', e => {
      const builds = document.querySelectorAll('.build');
      let scrollSubject, mousePosition = {};

      document.body.addEventListener('mouseup', e => {
        if (scrollSubject) {
          scrollSubject.className = scrollSubject.className.split(' ').filter(i => i != 'grabbing').join(' ');
          scrollSubject = null;
        }
      });
      document.body.addEventListener('mousemove', e => {
        if (scrollSubject) {
          e.preventDefault();
          let group = scrollSubject.querySelector('.group');
          group.style.left = parseInt(group.style.left) + (e.screenX - mousePosition.x) + 'px';
          group.style.top = parseInt(group.style.top) + (e.screenY - mousePosition.y) + 'px';
          mousePosition.x = e.screenX;
          mousePosition.y = e.screenY;
        }
      });
      for (let i = 0; i < builds.length; i++) {
        builds[i].style.width = builds[i].clientWidth + 'px';
        builds[i].style.height = builds[i].clientHeight + 'px';
        builds[i].querySelector('.group').style.left = .5*builds[i].clientWidth - .5*builds[i].scrollWidth + 'px';
        builds[i].querySelector('.group').style.top = .5*builds[i].clientHeight - .5*builds[i].scrollHeight + 'px';
        builds[i].addEventListener('mousedown', e => { 
          e.preventDefault();
          mousePosition.x = e.screenX;
          mousePosition.y = e.screenY;
          scrollSubject = builds[i];
          builds[i].className += ' grabbing';
        });
        builds[i].addEventListener('mousewheel', e => {
          e.preventDefault();
          let group = builds[i].querySelector('.group');
          let currentZoom = 1;
          if (group.style.transform) {
            currentZoom = group.style.transform.replace(/^scale\((.*)\)$/, '$1');
          }
          group.style.transform = 'scale(' + currentZoom * (e.deltaY > 0 ? .9 : 1.11111111111111111) + ')';
        })
      }
      document.body.className += 'loadFinished';
    });
  </script>
</body>
</html>